# Smart Partial Close Strategy

## –û–ø–∏—Å–∞–Ω–∏–µ

–ù–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è `SmartVolPartialCloseStrategy` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ª–æ–≥–∏–∫—É —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∞–ª–µ—Ä—Ç–æ–≤ Smart.

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –í—Ö–æ–¥ –≤ –ø–æ–∑–∏—Ü–∏—é

- **SmartOpen (1h)** - –æ—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é **–¢–û–õ–¨–ö–û –ø—Ä–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ 1h**
- **SmartOpen (4h)** - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é

### 2. –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ 1h —Ç–∞–π–º—Ñ—Ä–µ–π–º—É

- **–ü–µ—Ä–≤—ã–π SmartClose (1h)** - —Ç–æ–ª—å–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫, –ø–æ–∑–∏—Ü–∏—é –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ–º
- **–í—Ç–æ—Ä–æ–π SmartClose (1h)** - –∑–∞–∫—Ä—ã–≤–∞–µ–º 50% –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
- **–¢—Ä–µ—Ç–∏–π –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ SmartClose (1h)** - –∑–∞–∫—Ä—ã–≤–∞–µ–º –æ—Å—Ç–∞–≤—à—É—é—Å—è —á–∞—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏

### 3. –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ

- **SmartBigClose (1h)** - –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å—é –ø–æ–∑–∏—Ü–∏—é —Å—Ä–∞–∑—É
- **SmartClose (4h)** - –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å—é –ø–æ–∑–∏—Ü–∏—é —Å—Ä–∞–∑—É

### 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **SmartBigAdd** - —Å–∏–≥–Ω–∞–ª –¥–ª—è –±–æ–ª—å—à–æ–π –¥–æ–∫—É–ø–∫–∏ (–ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
- **SmartVolAdd** - –æ–±—ã—á–Ω–∞—è –¥–æ–∫—É–ø–∫–∞ (–∫–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞ —É–∫–∞–∂–∏—Ç–µ:

```json
{
  "name": "my_bot",
  "strategy": "partial-close",
  "enabled": true,
  "smartvol": {
    "baseUsd": 300,
    "addFraction": 0.5,
    "leverage": 12
  },
  "timeframe_trend": ["1h", "4h"]
}
```

### –¢–∞–π–º—Ñ—Ä–µ–π–º—ã –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ partial-close:

- **–ü–µ—Ä–≤—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º (1h)** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ –≤—Ö–æ–¥–∞ –∏ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞
- **–í—Ç–æ—Ä–æ–π —Ç–∞–π–º—Ñ—Ä–µ–π–º (4h)** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏
- **–í—Ö–æ–¥ –≤ –ø–æ–∑–∏—Ü–∏—é** - –¢–û–õ–¨–ö–û –ø—Ä–∏ `SmartOpen (1h)` (—Ç—Ä–µ–Ω–¥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è)
- **–¢—Ä–µ–Ω–¥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î**: –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç in-memory —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ SmartClose —Å–∏–≥–Ω–∞–ª–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞**: –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **–°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞**: –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ SmartOpen (1h)

## –ü—Ä–∏–º–µ—Ä—ã –∞–ª–µ—Ä—Ç–æ–≤

### –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (1h)

```json
{
  "alertName": "SmartOpen",
  "symbol": "BTCUSDT",
  "price": "45000",
  "timeframe": "1h"
}
```

### –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (4h) - –ü–†–û–ü–£–°–ö–ê–ï–¢–°–Ø

```json
{
  "alertName": "SmartOpen",
  "symbol": "BTCUSDT",
  "price": "45000",
  "timeframe": "4h"
}
```

### –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ (1h)

```json
{
  "alertName": "SmartClose",
  "symbol": "BTCUSDT",
  "price": "46000",
  "timeframe": "1h"
}
```

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ (4h)

```json
{
  "alertName": "SmartClose",
  "symbol": "BTCUSDT",
  "price": "47000",
  "timeframe": "4h"
}
```

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ (BigClose)

```json
{
  "alertName": "SmartBigClose",
  "symbol": "BTCUSDT",
  "price": "48000"
}
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

- üöÄ –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ 1h)
- ‚ûï –î–æ–∫—É–ø–∫–∞
- üîÑ –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
- üõë –ü–æ–ª–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
- üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã try-catch –±–ª–æ–∫–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ø–æ–∑–∏—Ü–∏—é
